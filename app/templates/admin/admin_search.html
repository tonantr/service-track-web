{% extends "base.html" %}

{% block content %}
<h1>Search Results</h1>

{% if users is not none and users %}
    <table class="table">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Username</th>
                <th scope="col">Role</th>
                <th scope="col">Email</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.user_id }}</td>
                <td>{{ user.username }}</td>
                <td>{{ user.role }}</td>
                <td>{{ user.email }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}

{% if cars is not none and cars %}
    <table class="table">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col">Model</th>
                <th scope="col">Year</th>
                <th scope="col">VIN</th>
            </tr>
        </thead>
        <tbody>
            {% for car in cars %}
            <tr>
                <td>{{ car.car_id }}</td>
                <td>{{ car.name }}</td>
                <td>{{ car.model }}</td>
                <td>{{ car.year }}</td>
                <td>{{ car.vin }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}

{% if services is not none and services %}
    <table class="table">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Mileage</th>
                <th scope="col">Service Type</th>
                <th scope="col">Service Date</th>
                <th scope="col">Next Service Date</th>
                <th scope="col">Cost</th>
                <th scope="col">Notes</th>
            </tr>
        </thead>
        <tbody>
            {% for service in services %}
            <tr>
                <td>{{ service.service_id }}</td>
                <td>{{ service.mileage }}</td>
                <td title="{{ service['service_type'] }}">{{ (service['service_type'] or '') | truncate(30, True, '...') }}</td>
                <td>{{ service.service_date }}</td>
                <td>{{ service.next_service_date }}</td>
                <td>{{ service.cost }}</td>
                <td title="{{ service['notes'] }}">{{ (service['notes'] or '') | truncate(30, True, '...') }}</td>

            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}

<a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary"> <<< Back</a>

{% endblock %}
